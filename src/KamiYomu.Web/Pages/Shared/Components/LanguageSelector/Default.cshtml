@using System.Globalization

<div class="dropdown">
    <button class="btn btn-outline-primary dropdown-toggle d-flex justify-content-center align-items-center w-100 position-relative rounded-pill px-3"
            type="button"
            data-bs-toggle="dropdown" style="border-width: 1px; font-size: 0.75rem; border-radius: 0.3rem;">
        <span class="position-absolute start-0 ps-2">
            <i class="bi bi-globe fs-6"></i>
        </span>
        <span class="fw-normal">
            @(CultureInfo.CurrentCulture.IsNeutralCulture? I18n.Language: CultureInfo.CurrentCulture.NativeName)
        </span>
    </button>
    <ul class="dropdown-menu w-100">
        <li>
            <form method="post"
                  asp-page="/Index"
                  asp-page-handler="SetLanguage"
                  asp-route-area=""
                  novalidate>
                @Html.AntiForgeryToken()
                <input type="hidden" class="language-return-url" name="returnUrl" value="@($"{Context.Request.Path}{Context.Request.QueryString}")" />
                <input type="hidden" name="Culture" value="@CultureInfo.GetCultureInfo("pt-BR").Name" />
                <button type="submit" class="dropdown-item"><span class="fi fi-br"></span> @CultureInfo.GetCultureInfo("pt-BR").NativeName</button>
            </form>
        </li>
        <li>
            <form method="post"
                  asp-page="/Index"
                  asp-page-handler="SetLanguage"
                  asp-route-area=""
                  novalidate>
                  @Html.AntiForgeryToken()
                <input type="hidden" class="language-return-url" name="returnUrl" value="@($"{Context.Request.Path}{Context.Request.QueryString}")" />
                <input type="hidden" name="Culture" value="@CultureInfo.GetCultureInfo("en-US").Name" />
                <button type="submit" class="dropdown-item"><span class="fi fi-us"></span> @CultureInfo.GetCultureInfo("en-US").NativeName</button>
            </form>
        </li>
       
        <li>
            <form method="post"
                  asp-page="/Index"
                  asp-page-handler="SetLanguage"
                  asp-route-area=""
                  novalidate>
                @Html.AntiForgeryToken()
                <input type="hidden" class="language-return-url" name="returnUrl" value="@($"{Context.Request.Path}{Context.Request.QueryString}")" />
                <input type="hidden" name="Culture" value="@CultureInfo.GetCultureInfo("fr").Name" />
                <button type="submit" class="dropdown-item"><span class="fi fi-fr"></span> @CultureInfo.GetCultureInfo("fr").NativeName</button>
            </form>
        </li>
        <li>
            <form method="post"
                  asp-page="/Index"
                  asp-page-handler="SetLanguage"
                  asp-route-area=""
                  novalidate>
                @Html.AntiForgeryToken()
                <input type="hidden" class="language-return-url" name="returnUrl" value="@($"{Context.Request.Path}{Context.Request.QueryString}")" />
                <input type="hidden" name="Culture" value="@CultureInfo.GetCultureInfo("es").Name" />
                <button type="submit" class="dropdown-item"><span class="fi fi-es"></span> @CultureInfo.GetCultureInfo("es").NativeName</button>
            </form>
        </li>
        <li>
            <form method="post"
                  asp-page="/Index"
                  asp-page-handler="SetLanguage"
                  asp-route-area=""
                  novalidate>
                @Html.AntiForgeryToken()
                <input type="hidden" class="language-return-url" name="returnUrl" value="@($"{Context.Request.Path}{Context.Request.QueryString}")" />
                <input type="hidden" name="Culture" value="@CultureInfo.GetCultureInfo("nl").Name" />
                <button type="submit" class="dropdown-item"><span class="fi fi-nl"></span> @CultureInfo.GetCultureInfo("nl").NativeName</button>
            </form>
        </li>
    </ul>
</div>
